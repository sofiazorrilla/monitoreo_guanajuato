check_presence <- function(ColumnA, ColumnB, ColumnC) {
if (any(grepl(df1$ColumnA, df2$ColumnB, ignore.case = TRUE))) {
return(df1[df1$ColumnA == row$ColumnA, ColumnC])
} else {
return(NA)
}
}
ColumnB = tax$specificEpithet
ColumnA = biblio$nombre
any(grepl(ColumnA, ColumnB, ignore.case = TRUE))
ColumnA
ColumnA = biblio$nombre[1]
any(grepl(ColumnA, ColumnB, ignore.case = TRUE))
ColumnA
ColumnB
biblio %>% mutate(specificEpithet = str_remove(nombre,"Quercus "))
biblio %>% mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>% left_join(biblio,tax,by = "specificEpithet")
biblio %>% mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>% left_join(tax,by = "specificEpithet")
biblio %>% mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>% left_join(tax,by = "specificEpithet") %>% view
ss <- "https://docs.google.com/spreadsheets/d/12eHA_LwHQ2m2EG441GP8XkquLYURjJfHkVZ2h699ZGM/edit?usp=sharing"
biblio <-  read_sheet(ss = ss, sheet = "registros_bibliografia")
biblio %>% mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>% left_join(tax,by = "specificEpithet") %>% view
biblio %>% mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>% mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet))%>% left_join(tax,by = "specificEpithet") %>% view
biblio <-  read_sheet(ss = ss, sheet = "registros_bibliografia")
biblio %>% mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>% mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet))%>% left_join(tax,by = "specificEpithet") %>% view
biblio <-  read_sheet(ss = ss, sheet = "registros_bibliografia")
biblio %>% mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>% mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet))%>% left_join(tax,by = "specificEpithet") %>% view
biblio <-  read_sheet(ss = ss, sheet = "registros_bibliografia")
biblio %>% mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>% mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet))%>% left_join(tax,by = "specificEpithet") %>% view
tax <- read_sheet(ss = ss, sheet = "tax_gbif") %>% filter(status == "ACCEPTED") %>% arrange(ID_SP)
biblio %>% mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>% mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet))%>% left_join(tax,by = "specificEpithet") %>% view
biblio %>% mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>% mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet))%>% left_join(tax[,c("ID_SP","specificEpithet")],by = "specificEpithet") %>% view
biblio <-  read_sheet(ss = ss, sheet = "registros_bibliografia")
left_join(biblio,tax,by = "ID_SP") %>% left_join(ref,by = "ID_referencia") %>% mutate(AUTORIDAD = paste(author,year.y), FECHA = paste(day,month,year.x, sep = "/"), NOMBRE_COMUN = "Encino") %>% group_by(ID_SP, genero, specificEpithet)
biblio %>% mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>% mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet))%>% left_join(tax[,c("ID_SP","specificEpithet")],by = "specificEpithet") %>% view
biblio %>% mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>% mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet, `TIPO DE REGISTRO` = "articulo"))%>% left_join(tax[,c("ID_SP","specificEpithet")],by = "specificEpithet") %>%
view
biblio %>% mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>% mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet, `TIPO DE REGISTRO` = "articulo"))%>% left_join(tax[,c("ID_SP","specificEpithet")],by = "specificEpithet") %>% view
biblio %>% mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>% mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo"))%>% left_join(tax[,c("ID_SP","specificEpithet")],by = "specificEpithet") %>% view
biblio %>% mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>% mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo")%>% left_join(tax[,c("ID_SP","specificEpithet")],by = "specificEpithet") %>% view
biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax[,c("ID_SP","specificEpithet")],by = "specificEpithet") %>%
left_join(biblio,tax,by = "ID_SP") %>% left_join(ref,by = "ID_referencia") %>%
mutate(AUTORIDAD = paste(author,year.y), FECHA = paste(day,month,year.x, sep = "/"), NOMBRE_COMUN = "Encino") %>%
group_by(ID_SP, genero, specificEpithet)
biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax[,c("ID_SP","specificEpithet")],by = "specificEpithet") %>%
left_join(tax,by = "ID_SP") %>% left_join(ref,by = "ID_referencia") %>%
mutate(AUTORIDAD = paste(author,year.y), FECHA = paste(day,month,year.x, sep = "/"), NOMBRE_COMUN = "Encino") %>%
group_by(ID_SP, genero, specificEpithet)
biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax[,c("ID_SP","specificEpithet")],by = "specificEpithet")
biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax[,c("ID_SP","specificEpithet")],by = "specificEpithet") %>%
left_join(tax,by = "ID_SP") %>% left_join(ref,by = "ID_referencia")
biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax,by = "specificEpithet") %>%
left_join(ref,by = "ID_referencia") %>%
mutate(AUTORIDAD = paste(author,year.y), FECHA = paste(day,month,year.x, sep = "/"), NOMBRE_COMUN = "Encino") %>%
group_by(ID_SP, genero, specificEpithet)
biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax,by = "specificEpithet") %>%
left_join(ref,by = "ID_referencia")
biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax,by = "specificEpithet") %>%
left_join(ref,by = "ID_referencia") %>% view
mutate(AUTORIDAD = paste(author,year), NOMBRE_COMUN = "Encino") %>%
group_by(ID_SP, genero, specificEpithet)
biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax,by = "specificEpithet") %>%
left_join(ref,by = "ID_referencia") %>%
mutate(AUTORIDAD = paste(author,year), NOMBRE_COMUN = "Encino") %>%
group_by(ID_SP, genero, specificEpithet)
biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax,by = "specificEpithet") %>%
left_join(ref,by = "ID_referencia") %>%
mutate(AUTORIDAD = paste(author,year), NOMBRE_COMUN = "Encino") %>%
view
join_biblo <- biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax,by = "specificEpithet") %>%
left_join(ref,by = "ID_referencia") %>%
mutate(AUTORIDAD = paste(author,year), NOMBRE_COMUN = "Encino")
join_gbif <- left_join(gbif,tax,by = "ID_SP") %>% left_join(ref,by = "ID_referencia") %>% mutate(AUTORIDAD = paste(author,year.y), FECHA = paste(day,month,year.x, sep = "/"), NOMBRE_COMUN = "Encino") %>% select()
join_gbif <- left_join(gbif,tax,by = "ID_SP") %>% left_join(ref,by = "ID_referencia") %>% mutate(AUTORIDAD = paste(author,year.y), FECHA = paste(day,month,year.x, sep = "/"), NOMBRE_COMUN = "Encino")
join_gbif <- left_join(gbif,tax,by = "ID_SP") %>%
left_join(ref,by = "ID_referencia") %>%
mutate(AUTORIDAD = paste(author,year.y),
FECHA = paste(day,month,year.x, sep = "/"),
NOMBRE_COMUN = "Encino",
PHYLUM = "Tracheophyta",
CLASE = "Magnoliopsida",
ORDEN = "Fagales",
FAMILIA = "Fagaceae",
ESTATUS_NOM = "Ausente",
OBSERVACIONES = NA
) %>%
select(FUENTE,
PHYLUM,
CLASE,
ORDEN,
FAMILIA,
GENERO = genero,
ESPECIE = specificEpithet,
AUTOR = AUTORIDAD,
SINONIMIA,
NOMBRE_COMUN,
MUNICIPIO,
LOCALIDAD,
LONGITUD = decimalLongitude,
LATITUD = decimalLatitude,
PRECISION = coordinateUncertaintyInMeters,
`FECHA DE REGISTRO` = FECHA,
TIPO_DE_REGISTRO = basisOfRecord,
ENDEMICIDAD,
ESTATUS_NOM,
ESTATUS_IUCN,
REFERENCIA_APA,
OBSERVACIONES)
join_gbif
join_biblo <- biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax,by = "specificEpithet") %>%
left_join(ref,by = "ID_referencia") %>%
mutate(AUTORIDAD = paste(author,year),
NOMBRE_COMUN = "Encino",
PHYLUM = "Tracheophyta",
CLASE = "Magnoliopsida",
ORDEN = "Fagales",
FAMILIA = "Fagaceae",
ESTATUS_NOM = "Ausente",
OBSERVACIONES = NA
) %>%
select(FUENTE,
PHYLUM,
CLASE,
ORDEN,
FAMILIA,
GENERO = genero,
ESPECIE = specificEpithet,
AUTOR = AUTORIDAD,
SINONIMIA,
NOMBRE_COMUN,
MUNICIPIO,
LOCALIDAD,
LONGITUD = decimalLongitude,
LATITUD = decimalLatitude,
PRECISION = coordinateUncertaintyInMeters,
`FECHA DE REGISTRO`,
TIPO_DE_REGISTRO = basisOfRecord,
ENDEMICIDAD,
ESTATUS_NOM,
ESTATUS_IUCN,
REFERENCIA_APA,
OBSERVACIONES))
join_biblo <- biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax,by = "specificEpithet") %>%
left_join(ref,by = "ID_referencia") %>%
mutate(AUTORIDAD = paste(author,year),
NOMBRE_COMUN = "Encino",
PHYLUM = "Tracheophyta",
CLASE = "Magnoliopsida",
ORDEN = "Fagales",
FAMILIA = "Fagaceae",
ESTATUS_NOM = "Ausente",
OBSERVACIONES = NA
) %>%
select(FUENTE,
PHYLUM,
CLASE,
ORDEN,
FAMILIA,
GENERO = genero,
ESPECIE = specificEpithet,
AUTOR = AUTORIDAD,
SINONIMIA,
NOMBRE_COMUN,
MUNICIPIO,
LOCALIDAD,
LONGITUD = decimalLongitude,
LATITUD = decimalLatitude,
PRECISION = coordinateUncertaintyInMeters,
`FECHA DE REGISTRO`,
TIPO_DE_REGISTRO = basisOfRecord,
ENDEMICIDAD,
ESTATUS_NOM,
ESTATUS_IUCN,
REFERENCIA_APA,
OBSERVACIONES))
join_biblo <- biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax,by = "specificEpithet") %>%
left_join(ref,by = "ID_referencia") %>%
mutate(AUTORIDAD = paste(author,year),
NOMBRE_COMUN = "Encino",
PHYLUM = "Tracheophyta",
CLASE = "Magnoliopsida",
ORDEN = "Fagales",
FAMILIA = "Fagaceae",
ESTATUS_NOM = "Ausente",
OBSERVACIONES = NA
) %>%
select(FUENTE,
PHYLUM,
CLASE,
ORDEN,
FAMILIA,
GENERO = genero,
ESPECIE = specificEpithet,
AUTOR = AUTORIDAD,
SINONIMIA,
NOMBRE_COMUN,
MUNICIPIO,
LOCALIDAD,
LONGITUD = decimalLongitude,
LATITUD = decimalLatitude,
PRECISION = coordinateUncertaintyInMeters,
`FECHA DE REGISTRO`,
TIPO_DE_REGISTRO = basisOfRecord,
ENDEMICIDAD,
ESTATUS_NOM,
ESTATUS_IUCN,
REFERENCIA_APA,
OBSERVACIONES)
join_biblo <- biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax,by = "specificEpithet") %>%
left_join(ref,by = "ID_referencia") %>%
mutate(AUTORIDAD = paste(author,year),
NOMBRE_COMUN = "Encino",
PHYLUM = "Tracheophyta",
CLASE = "Magnoliopsida",
ORDEN = "Fagales",
FAMILIA = "Fagaceae",
ESTATUS_NOM = "Ausente",
OBSERVACIONES = NA
) %>%
select(FUENTE,
PHYLUM,
CLASE,
ORDEN,
FAMILIA,
GENERO = genero,
ESPECIE = specificEpithet,
AUTOR = AUTORIDAD,
SINONIMIA,
NOMBRE_COMUN,
MUNICIPIO,
LOCALIDAD,
LONGITUD,
LATITUD,
PRECISION,
`FECHA DE REGISTRO`,
TIPO_DE_REGISTRO = basisOfRecord,
ENDEMICIDAD,
ESTATUS_NOM,
ESTATUS_IUCN,
REFERENCIA_APA,
OBSERVACIONES)
biblio <-  read_sheet(ss = ss, sheet = "registros_bibliografia")
join_biblo <- biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax,by = "specificEpithet") %>%
left_join(ref,by = "ID_referencia") %>%
mutate(AUTORIDAD = paste(author,year),
NOMBRE_COMUN = "Encino",
PHYLUM = "Tracheophyta",
CLASE = "Magnoliopsida",
ORDEN = "Fagales",
FAMILIA = "Fagaceae",
ESTATUS_NOM = "Ausente",
OBSERVACIONES = NA
) %>%
select(FUENTE,
PHYLUM,
CLASE,
ORDEN,
FAMILIA,
GENERO = genero,
ESPECIE = specificEpithet,
AUTOR = AUTORIDAD,
SINONIMIA,
NOMBRE_COMUN,
MUNICIPIO,
LOCALIDAD,
LONGITUD,
LATITUD,
PRECISION,
`FECHA DE REGISTRO`,
TIPO_DE_REGISTRO = basisOfRecord,
ENDEMICIDAD,
ESTATUS_NOM,
ESTATUS_IUCN,
REFERENCIA_APA,
OBSERVACIONES)
biblio <-  read_sheet(ss = ss, sheet = "registros_bibliografia")
join_biblo <- biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax,by = "specificEpithet") %>%
left_join(ref,by = "ID_referencia") %>%
mutate(AUTORIDAD = paste(author,year),
NOMBRE_COMUN = "Encino",
PHYLUM = "Tracheophyta",
CLASE = "Magnoliopsida",
ORDEN = "Fagales",
FAMILIA = "Fagaceae",
ESTATUS_NOM = "Ausente",
OBSERVACIONES = NA
) %>%
select(FUENTE,
PHYLUM,
CLASE,
ORDEN,
FAMILIA,
GENERO = genero,
ESPECIE = specificEpithet,
AUTOR = AUTORIDAD,
SINONIMIA,
NOMBRE_COMUN,
MUNICIPIO,
LOCALIDAD,
LONGITUD,
LATITUD,
PRECISION,
`FECHA DE REGISTRO`,
TIPO_DE_REGISTRO = basisOfRecord,
ENDEMICIDAD,
ESTATUS_NOM,
ESTATUS_IUCN,
REFERENCIA_APA,
OBSERVACIONES)
biblio <-  read_sheet(ss = ss, sheet = "registros_bibliografia")
join_biblo <- biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax,by = "specificEpithet") %>%
left_join(ref,by = "ID_referencia") %>%
mutate(AUTORIDAD = paste(author,year),
NOMBRE_COMUN = "Encino",
PHYLUM = "Tracheophyta",
CLASE = "Magnoliopsida",
ORDEN = "Fagales",
FAMILIA = "Fagaceae",
ESTATUS_NOM = "Ausente",
OBSERVACIONES = NA
) %>%
select(FUENTE,
PHYLUM,
CLASE,
ORDEN,
FAMILIA,
GENERO = genero,
ESPECIE = specificEpithet,
AUTOR = AUTORIDAD,
SINONIMIA,
NOMBRE_COMUN,
MUNICIPIO,
LOCALIDAD,
LONGITUD,
LATITUD,
PRECISION,
`FECHA DE REGISTRO`,
TIPO_DE_REGISTRO,
ENDEMICIDAD,
ESTATUS_NOM,
ESTATUS_IUCN,
REFERENCIA_APA,
OBSERVACIONES)
join_biblo
View(join_biblo)
biblio <-  read_sheet(ss = ss, sheet = "registros_bibliografia", col_types = "c")
join_biblo <- biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax,by = "specificEpithet") %>%
left_join(ref,by = "ID_referencia") %>%
mutate(AUTORIDAD = paste(author,year),
NOMBRE_COMUN = "Encino",
PHYLUM = "Tracheophyta",
CLASE = "Magnoliopsida",
ORDEN = "Fagales",
FAMILIA = "Fagaceae",
ESTATUS_NOM = "Ausente",
OBSERVACIONES = NA
) %>%
select(FUENTE,
PHYLUM,
CLASE,
ORDEN,
FAMILIA,
GENERO = genero,
ESPECIE = specificEpithet,
AUTOR = AUTORIDAD,
SINONIMIA,
NOMBRE_COMUN,
MUNICIPIO,
LOCALIDAD,
LONGITUD,
LATITUD,
PRECISION,
`FECHA DE REGISTRO`,
TIPO_DE_REGISTRO,
ENDEMICIDAD,
ESTATUS_NOM,
ESTATUS_IUCN,
REFERENCIA_APA,
OBSERVACIONES)
gbif <- read_sheet(ss = ss, sheet = "registros_gbif", col_types = "c") %>% filter(basisOfRecord == "PRESERVED_SPECIMEN")
tax <- read_sheet(ss = ss, sheet = "tax_gbif", col_types = "c") %>% filter(status == "ACCEPTED") %>% arrange(ID_SP)
ref <- read_sheet(ss = ss, sheet = "referencias", col_types = "c")
biblio <-  read_sheet(ss = ss, sheet = "registros_bibliografia", col_types = "c")
join_gbif <- left_join(gbif,tax,by = "ID_SP") %>%
left_join(ref,by = "ID_referencia") %>%
mutate(AUTORIDAD = paste(author,year.y),
FECHA = paste(day,month,year.x, sep = "/"),
NOMBRE_COMUN = "Encino",
PHYLUM = "Tracheophyta",
CLASE = "Magnoliopsida",
ORDEN = "Fagales",
FAMILIA = "Fagaceae",
ESTATUS_NOM = "Ausente",
OBSERVACIONES = NA
) %>%
select(FUENTE,
PHYLUM,
CLASE,
ORDEN,
FAMILIA,
GENERO = genero,
ESPECIE = specificEpithet,
AUTOR = AUTORIDAD,
SINONIMIA,
NOMBRE_COMUN,
MUNICIPIO,
LOCALIDAD,
LONGITUD = decimalLongitude,
LATITUD = decimalLatitude,
PRECISION = coordinateUncertaintyInMeters,
`FECHA DE REGISTRO` = FECHA,
TIPO_DE_REGISTRO = basisOfRecord,
ENDEMICIDAD,
ESTATUS_NOM,
ESTATUS_IUCN,
REFERENCIA_APA,
OBSERVACIONES)
join_biblo <- biblio %>%
mutate(specificEpithet = str_remove(nombre,"Quercus ")) %>%
mutate(specificEpithet = ifelse(!is.na(sinonimia),sinonimia,specificEpithet), `TIPO DE REGISTRO` = "articulo") %>%
left_join(tax,by = "specificEpithet") %>%
left_join(ref,by = "ID_referencia") %>%
mutate(AUTORIDAD = paste(author,year),
NOMBRE_COMUN = "Encino",
PHYLUM = "Tracheophyta",
CLASE = "Magnoliopsida",
ORDEN = "Fagales",
FAMILIA = "Fagaceae",
ESTATUS_NOM = "Ausente",
OBSERVACIONES = NA
) %>%
select(FUENTE,
PHYLUM,
CLASE,
ORDEN,
FAMILIA,
GENERO = genero,
ESPECIE = specificEpithet,
AUTOR = AUTORIDAD,
SINONIMIA,
NOMBRE_COMUN,
MUNICIPIO,
LOCALIDAD,
LONGITUD,
LATITUD,
PRECISION,
`FECHA DE REGISTRO`,
TIPO_DE_REGISTRO,
ENDEMICIDAD,
ESTATUS_NOM,
ESTATUS_IUCN,
REFERENCIA_APA,
OBSERVACIONES)
join = bind_rows(join_gbif,join_biblo)
join
write_sheet(ss,sheet = "joinDic2023")
write_sheet(ss,join,sheet = "joinDic2023")
write_sheet(ss=ss,join,sheet = "joinDic2023")
